<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administration - Premier League</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>

<body>
    <header>
        <div class="container">
            <h1><img src="logo/premier_league1.png" alt="" style="width: 400px; height: 100px;"></h1>
            <nav>
                <a href="index.html" class="nav-btn">Classement</a>
                <a href="admin.html" class="nav-btn active">Administration</a>
                <a href="api/delete.php" class="nav-btn">Delete</a>
            </nav>
        </div>
    </header>

    <main class="container" style="min-height: calc(100vh - 256px);">
        <div class="admin-panel">
            <div class="admin-tabs">
                <button class="tab-btn active" onclick="showTab('matches')">Créer Rencontres</button>
                <button class="tab-btn" onclick="showTab('results')">Saisir Résultats</button>
            </div>

            <!-- Onglet Créer Rencontres -->
            <div id="matches-tab" class="tab-content active">
                <div class="week-info">
                    <h3>Semaine <span id="currentWeek"></span></h3>
                </div>

                <div class="create-matches-section">
                    <button id="createMatchesBtn" class="btn btn-primary" onclick="showManualForm()">
                        Créer les rencontres de la semaine
                    </button>
                </div>

                <form id="manualMatchesForm" style="display: none;">
                    <h3>Créer les rencontres manuelles</h3>
                    <div id="matchesContainer">
                        <!-- Les lignes de match seront injectées ici par JavaScript -->
                    </div>
                    <button type="submit" id="submitManualMatchesBtn">Enregistrer les rencontres</button>
                </form>

                <!--             <div 
                 id="weekMatches" class="matches-list">
                </div> -->
            </div>

            <!-- Onglet Saisir Résultats -->
            <div id="results-tab" class="tab-content">
                <div class="results-section" style="display: grid;">
                    <h3 style="text-align: center;margin-top: 10px;">Résultats de la semaine <span id="resultsWeek"></span></h3>
                    <div id="matchResults" class="match-results">
                        <!-- Les formulaires de résultats seront affichés ici -->
                    </div>
                    <button id="confirmResultsBtn" class="btn btn-success" onclick="confirmAllResults()"
                        style="display: none; margin-top: 20px;">
                        Confirmer tous les résultats
                    </button>
                </div>
            </div>
        </div>
    </main>
    <footer class="site-footer">
        <div class="footer-content">
            <p>&copy; 2025-2026 Premier League. Tous droits réservés.</p>
            <p>Site créé avec ❤️ par <a href="https://snouportfolio.vercel.app/" target="_blank">Ahmed Senouci</a></p>
        </div>
    </footer>
    <div id="customModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle">Titre</h2>
            <p id="modalMessage">Message ici</p>
        </div>
    </div>
    <script>
        // Affiche le formulaire manuel et charge les équipes
        function showManualForm() {
            if (areAllWeekMatchesFilled()) {
                
            const form = document.getElementById("manualMatchesForm");

            // Afficher le formulaire
            form.style.display = "block";
            form.scrollIntoView({ behavior: "smooth" });

            // Charger les équipes depuis admin.js
            if (typeof window.loadTeams === 'function') {
                window.loadTeams();
            }
        }else {
            Swal.fire({
                title: '❌ Erreur de chargement',
                text: 'Vous navais pas rempli tous les matchs de la semaine',
                icon: 'error',
                confirmButtonText: 'Fermer',
                showClass: {
                  popup: 'animate__animated animate__fadeInDown'
                },
                hideClass: {
                  popup: 'animate__animated animate__fadeOutUp'
                }
              });
        }
    }
    </script>
    <script src="admin.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>

</html>